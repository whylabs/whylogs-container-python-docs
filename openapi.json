{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/log":{"post":{"summary":"Log","description":"Profile tabular data. The Swagger UI isn't able to call this currently.\n\n## Sample curl request:\n\n```bash\ncurl -X 'POST'     -H \"X-API-Key: <password>\"     -H \"Content-Type: application/json\"     'http://localhost:8000/log'     --data-raw '{\n    \"datasetId\": \"model-62\",\n    \"multiple\": {\n        \"columns\": [ \"age\", \"workclass\", \"fnlwgt\", \"education\" ],\n        \"data\": [\n            [ 25, \"Private\", 226802, \"11th\" ]\n        ]\n    }\n}'\n```\n\n## Sample Python request:\n```python\nimport requests\n\n# Define your API key\napi_key = \"<password>\"\n\n# API endpoint\nurl = 'http://localhost:8000/log'\n\n# Sample data\ndata = {\n    \"datasetId\": \"model-62\",\n    \"multiple\": {\n        \"columns\": [\"age\", \"workclass\", \"fnlwgt\", \"education\"],\n        \"data\": [\n            [25, \"Private\", 226802, \"11th\"]\n        ]\n    }\n}\n\n# Make the POST request\nheaders = {\"X-API-Key\": api_key}\nresponse = requests.post(url, json=data, headers=headers)\n```","operationId":"log_log_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/log/json":{"post":{"summary":"Log Json","description":"Use this endpoint for manually testing and experimenting. It shouldn't be used in production\nbecause it has a steep performance penalty compared to the normal /log endpoint.","operationId":"log_json_log_json_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/log-embeddings":{"post":{"summary":"Log Embeddings","description":"This endpoint requires a custom configuration to set up before hand. See https://docs.whylabs.ai/docs/integrations-whylogs-container/ \nfor setting up embeddings support.\n\nLog embeddings data. The Swagger UI isn't able to call this currently.\n\n## Sample curl request:\n\n```bash\ncurl -X 'POST'     -H \"X-API-Key: <password>\"     -H \"Content-Type: application/json\"     'http://localhost:8000/log-embeddings'     --data-raw '{\n    \"datasetId\": \"model-62\",\n    \"timestamp\": 1634235000,\n    \"embeddings\": {\n        \"embeddings\": [[0.12, 0.45, 0.33, 0.92]]\n    }\n}'\n```\n\n## Sample Python request:\n```python\nimport requests\n\n# Define your API key\napi_key = \"<password>\"\n\n# API endpoint\nurl = 'http://localhost:8000/log-embeddings'\n\n# Sample data\ndata = {\n    \"datasetId\": \"model-62\",\n    \"timestamp\": 1634235000,  # an example timestamp\n    \"embeddings\": {\n        \"embeddings\": [[0.12, 0.45, 0.33, 0.92]]\n    }\n}\n\n# Make the POST request\nheaders = {\"X-API-Key\": api_key, \"Content-Type\": \"application/json\"}\nresponse = requests.post(url, json=data, headers=headers)\n```","operationId":"log_embeddings_log_embeddings_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/log-embeddings/json":{"post":{"summary":"Log Embeddings Json","description":"Use this endpoint for manually testing and experimenting. It shouldn't be used in production\nbecause it has a steep performance penalty compared to the normal /log-embeddings endpoint.","operationId":"log_embeddings_json_log_embeddings_json_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogEmbeddingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/log-pubsub":{"post":{"summary":"Log Pubsub","operationId":"log_pubsub_log_pubsub_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/log-pubsub-embeddings":{"post":{"summary":"Log Pubsub Embeddings","operationId":"log_pubsub_embeddings_log_pubsub_embeddings_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/chat/completions":{"post":{"summary":"Openai Proxy","operationId":"openai_proxy_v1_chat_completions_post","parameters":[{"name":"whylabs_dataset_id","in":"header","required":true,"schema":{"type":"string","title":"Whylabs Dataset Id"}},{"name":"prompt_id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt Id"}},{"name":"model","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/publish":{"post":{"summary":"Publish Profiles","operationId":"publish_profiles_publish_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/status":{"get":{"summary":"Status","operationId":"status_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessLoggerStatusResponse"}}}}}}},"/logDebugInfo":{"post":{"summary":"Log Debug Info","operationId":"log_debug_info_logDebugInfo_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LogEmbeddingRequest":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"timestamp":{"type":"integer","title":"Timestamp"},"embeddings":{"additionalProperties":{"anyOf":[{"items":{"items":{"type":"number"},"type":"array"},"type":"array"},{"items":{"items":{"type":"integer"},"type":"array"},"type":"array"},{"items":{"items":{"type":"string"},"type":"array"},"type":"array"}]},"type":"object","title":"Embeddings"}},"type":"object","required":["timestamp","embeddings"],"title":"LogEmbeddingRequest"},"LogMultiple":{"properties":{"columns":{"items":{"type":"string"},"type":"array","title":"Columns"},"data":{"items":{"items":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"number"},{"type":"boolean"},{"items":{"type":"number"},"type":"array"},{"items":{"type":"integer"},"type":"array"},{"items":{"type":"string"},"type":"array"}]},"type":"array"},"type":"array","title":"Data"}},"type":"object","required":["columns","data"],"title":"LogMultiple"},"LogRequest":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"timestamp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timestamp"},"multiple":{"$ref":"#/components/schemas/LogMultiple"}},"type":"object","required":["timestamp","multiple"],"title":"LogRequest"},"LoggerStatusResponse":{"properties":{"dataset_timestamps":{"type":"integer","title":"Dataset Timestamps"},"dataset_profiles":{"type":"integer","title":"Dataset Profiles"},"segment_caches":{"type":"integer","title":"Segment Caches"},"writers":{"type":"integer","title":"Writers"},"pending_writables":{"type":"integer","title":"Pending Writables"},"pending_views":{"items":{"type":"string"},"type":"array","title":"Pending Views"},"views":{"items":{"type":"string"},"type":"array","title":"Views"}},"type":"object","required":["dataset_timestamps","dataset_profiles","segment_caches","writers","pending_writables","pending_views","views"],"title":"LoggerStatusResponse"},"ProcessLoggerStatusResponse":{"properties":{"statuses":{"additionalProperties":{"$ref":"#/components/schemas/LoggerStatusResponse"},"type":"object","title":"Statuses","default":{}}},"type":"object","title":"ProcessLoggerStatusResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}